<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.1.2">Jekyll</generator><link href="http://tarunjangra.com/rss.xml" rel="self" type="application/atom+xml" /><link href="http://tarunjangra.com/" rel="alternate" type="text/html" /><updated>2016-07-13T19:26:55+00:00</updated><id>http://tarunjangra.com/</id><title>Tarun Jangra</title><subtitle>Tarun Jangra</subtitle><author><name>Tarun Jangra</name><email>tarun@izap.in</email></author><entry><title>My First post with Jekyll</title><link href="http://tarunjangra.com/2016/07/09/hello-world.html" rel="alternate" type="text/html" title="My First post with Jekyll" /><published>2016-07-09T00:00:00+00:00</published><updated>2016-07-09T00:00:00+00:00</updated><id>http://tarunjangra.com/2016/07/09/hello-world</id><content type="html" xml:base="http://tarunjangra.com/2016/07/09/hello-world.html">&lt;p&gt;In this blog i do not have any thing particular to talk about. So it is just an introduction
of my new blog built on Jekyll. Since it is Jekyll based, so i&amp;#39;ve used Travis-CI for building
and github for hosting this blog.&lt;/p&gt;

&lt;p&gt;As described in &lt;a href=&quot;/about-me.html&quot;&gt;About Me&lt;/a&gt;, I&amp;#39;m passionate about programming, cloud computing,
Entrepreneurship. So that&amp;#39;s whyat i&amp;#39;ll be writing about.&lt;/p&gt;

&lt;p&gt;So just want to say &amp;quot;Hello&amp;quot; and Thank you to take time to read this blog.&lt;/p&gt;</content><category term="blogging" /><category term="tarun jangra" /><category term="jekyll" /><category term="jangra" /><summary>In this blog i do not have any thing particular to talk about. So it is just an introduction
of my new blog built on Jekyll. Since it is Jekyll based, so i&amp;#39;ve used Travis-CI for building
and github for hosting this blog.

As described in About Me, I&amp;#39;m passionate about programming, cloud computing,
Entrepreneurship. So that&amp;#39;s whyat i&amp;#39;ll be writing about.

So just want to say &amp;quot;Hello&amp;quot; and Thank you to take time to read this blog.</summary></entry><entry><title>ElasticSearch restore failed when s3-gateway is activated</title><link href="http://tarunjangra.com/2014/07/11/elasticSearch-restore-failed-when-s3-gateway-activated.html" rel="alternate" type="text/html" title="ElasticSearch restore failed when s3-gateway is activated" /><published>2014-07-11T00:00:00+00:00</published><updated>2014-07-11T00:00:00+00:00</updated><id>http://tarunjangra.com/2014/07/11/elasticSearch-restore-failed-when s3-gateway-activated</id><content type="html" xml:base="http://tarunjangra.com/2014/07/11/elasticSearch-restore-failed-when-s3-gateway-activated.html">&lt;p&gt;Hufffff, Unfortunately i met this edge case. I have recovered from this situation. Here’s my scenario.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;I am on ElasticSearch Version 1.1.0&lt;/li&gt;
&lt;li&gt;I have two data nodes. One is primary and other is replica.&lt;/li&gt;
&lt;li&gt;I am taking regular snapshots of my indexes.&lt;/li&gt;
&lt;li&gt;I am no more taking snapshots, So I have installed s3-gateway plugin to keep updating s3 buckets for persistent indexes.&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;p&gt;Because of bulk import, i have stopped my replica to make import little faster. Once import get completed. I felt high CPU and Memory usage. And since i was aware that my indexes are safe because i am supporting s3-gateway. So i decided to restart remaining data node. Fuck…. It was a big mistake. When i tried to restart, it was not recovering all indexes. And we were about to launch our site in next two hours. And i am left with no index.&lt;/p&gt;

&lt;p&gt;Struggling here and there, i came to know that i am suffered with Bug in ElasticSearch. I tried to follow instruction at the end of this thread where i was suppose to update/edit metadata file from s3-bucket. I did that but no luck.&lt;/p&gt;

&lt;p&gt;Problem i found, All indexes and shards suppose to have _source folders. And i had so many indexes and their shards where _source folder was missing. And those indexes were unrecoverable. I have no solutions at that place and was literately sweating in Air Conditioned Room. &lt;/p&gt;

&lt;p&gt;Then one of my colleague, Narinder Kaur has joined me. And she gave me necessary support and we tried some more messes to fix it. Since i already made a mistake, So i took one backup of existing elasticsearch so that i would be able to back at same place in case of any other mess. And solutions we were planning to try was totally crap.&lt;/p&gt;

&lt;p&gt;So, Solution we tried. and which actually works….. Wow!.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;I updated my elasticsearch.yml, and remove s3-gateway settings related to my s3 bucket.&lt;/li&gt;
&lt;li&gt;I stopped elasticsearch.&lt;/li&gt;
&lt;li&gt;I rename my old cluster (elasticsearch) to elasticsearch.original.&lt;/li&gt;
&lt;li&gt;Restarted Elasticsearch. And it created new blank cluster. where i have no indexes.&lt;/li&gt;
&lt;li&gt;I created all required indexes with the same number of shards and replicas i previously had. In my case i had 5 indexes and 5 shards per index.&lt;/li&gt;
&lt;li&gt;Now i stop elasticsearch again.&lt;/li&gt;
&lt;li&gt;Start deleting (elasticsearch/nodes/0/indices/{index_name}&amp;gt;/{0,1,2,3,4}/{index,translog}. And move (elasticsearch.original/nodes/0/indices/{index_name}/{0,1,2,3,4}/{index,translog}) to (elasticsearch/nodes/0/indices/{index_name}/&lt;0,1,2,3,4&gt;/{index,translog})
&lt;strong&gt;Note&lt;/strong&gt;: Here, i did not touch _state folder of blank indexes. And now my all indexes has _status folder in each shard and each index.&lt;/li&gt;
&lt;li&gt;I copied all indexes as in 5th step.&lt;/li&gt;
&lt;li&gt;Restart ElasticSearch. and i found all indexes were recovered.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Observation: Well you should run your all custom mappings in blank indexes. I found some errors because i did not execute my mapping.&lt;/p&gt;

&lt;p&gt;Thank god, Now all indexes were recovered. And Thanks to Narinder Kaur, she got me required support at that time.&lt;/p&gt;</content><category term="blogging" /><category term="tarun jangra" /><category term="elastic search" /><category term="elastica" /><category term="S3-gateway" /><summary>Hufffff, Unfortunately i met this edge case. I have recovered from this situation. Here’s my scenario.


I am on ElasticSearch Version 1.1.0
I have two data nodes. One is primary and other is replica.
I am taking regular snapshots of my indexes.
I am no more taking snapshots, So I have installed s3-gateway plugin to keep updating s3 buckets for persistent indexes.</summary></entry><entry><title>How to install go-daddy ssl certificate on amazon load balancer</title><link href="http://tarunjangra.com/2012/12/29/how-to-install-ssl-on-godaddy.html" rel="alternate" type="text/html" title="How to install go-daddy ssl certificate on amazon load balancer" /><published>2012-12-29T00:00:00+00:00</published><updated>2012-12-29T00:00:00+00:00</updated><id>http://tarunjangra.com/2012/12/29/how-to-install-ssl-on-godaddy</id><content type="html" xml:base="http://tarunjangra.com/2012/12/29/how-to-install-ssl-on-godaddy.html">&lt;p&gt;I was struggling around to install SSL Certificate on ELB. And finally i’ve made that. Following are the steps you need to follow.&lt;/p&gt;

&lt;h3 id=&quot;requirements-amp-prerequisites&quot;&gt;Requirements &amp;amp; Prerequisites:&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;Linux having openssl and apache installed.&lt;/li&gt;
&lt;li&gt;Open shell terminal on your Linux Box.&lt;/li&gt;
&lt;/ol&gt;

&lt;!--more--&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;openssl genrsa -des3 -out private.key 1024
openssl req -new -key private.key -out www.your-web-site.com.csr&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;You will be prompt to provide some basic information. Make sure you have added “Common Name”; a fully qualified domain name. like “www.xyz.com”&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Open to &lt;a href=&quot;http://www.godaddy.com&quot;&gt;GoDaddy&lt;/a&gt; and go to ssl management control panel&lt;/li&gt;
&lt;li&gt;Select your Certificate. And click on Re-Key button.&lt;/li&gt;
&lt;li&gt;Copy content of “www.your-web-site.com.csr” and paste the content in “CSR” field. And press Re-Key.&lt;/li&gt;
&lt;li&gt;It will prompt you to download the keys. Available options to download are Apache, Nginx and Other. By the way, i used “Other” to download my keys to be used on ELB.&lt;/li&gt;
&lt;li&gt;Now unzip the downloaded file. It should have two *.crt files.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;now-back-to-your-terminal&quot;&gt;Now back to your terminal.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;openssl rsa -in private.key -out private.pem&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now you will have following files in your current location.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;private.key&lt;/li&gt;
&lt;li&gt;private.pem&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.web-site.com.csr&quot;&gt;www.web-site.com.csr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;sf_bundle.crt&lt;/li&gt;
&lt;li&gt;your-domain.com.crt&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Now open your load balancer console and add https support. it will prompt you to add following values.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Certificate Name:* -&amp;gt; Put any friendly name&lt;/li&gt;
&lt;li&gt;Private Key:* -&amp;gt; Paste content of private.pem&lt;/li&gt;
&lt;li&gt;Public Key Certificate:* -&amp;gt; Paste content of your-domain.com.crt.&lt;/li&gt;
&lt;li&gt;Certificate Chain: -&amp;gt; Paste content of sf_bundle.crt&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Once done, Save all these values and here you go.&lt;/p&gt;</content><category term="GoDaddy" /><category term="SSL" /><category term="ELB" /><category term="AWS" /><summary>I was struggling around to install SSL Certificate on ELB. And finally i’ve made that. Following are the steps you need to follow.

Requirements &amp;amp; Prerequisites:


Linux having openssl and apache installed.
Open shell terminal on your Linux Box.</summary></entry></feed>
